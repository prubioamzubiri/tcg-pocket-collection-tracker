import{r as o,t as v,j as d,a0 as b}from"./index-BPDlz0l9.js";function R({selected:l,card:a,size:t="default"}){const n=o.useRef(null),[r,c]=o.useState({x:0,y:0}),[s,m]=o.useState(!1),y=o.useRef(j(e=>c(e),50)),g=e=>{y.current({x:e.clientX,y:e.clientY})},w=o.useCallback(()=>{m(!0),window.addEventListener("mousemove",g)},[]),C=o.useCallback(()=>{m(!1),window.removeEventListener("mousemove",g)},[]);let f=0,p=0;if(n.current&&s){const e=n.current.getBoundingClientRect(),i=e.left+e.width/2,u=e.top+e.height/2;f=r.x-i,p=r.y-u}const x=(e,i,u)=>Math.min(Math.max(e,i),u),E=s?x(f/4,-10,10):0,L=s?x(-p/4,-10,10):0,M={transform:`perspective(1000px)
                   rotateY(${E}deg)
                   rotateX(${L}deg)
                   scale(${s?1.04:1})`,transition:"transform 0.3s cubic-bezier(0.17, 0.67, 0.5, 1.03)",transformStyle:"preserve-3d",opacity:l?1:.5,width:t==="small"?"80px":"100%",height:t==="small"?"112px":"auto"},h=a.image?.split("/").at(-1),S=`/images/${v.language}/${h}`;return d.jsx("div",{style:{flex:"1 0 20%",perspective:"1000px",transformStyle:navigator?.userAgent.toLowerCase().includes("firefox")?"flat":"preserve-3d",display:"flex",justifyContent:"center",alignItems:"center",zIndex:s?10:0},children:h&&d.jsx("div",{style:{width:t==="small"?"80px":"100%",height:t==="small"?"112px":"auto"},onMouseEnter:w,onMouseLeave:C,children:d.jsx("img",{draggable:!1,loading:"lazy",ref:n,className:"card-test",style:M,src:S,alt:b(a,v.language),onError:e=>{e.target.src=a.image}})})})}const j=(l,a)=>{let t=0,n=null;return(...r)=>{const c=performance.now(),s=c-t;if(s<a){n||(n=setTimeout(()=>{t=performance.now(),n=null,l(...r)},a-s));return}t=c,l(...r)}};export{R as F};

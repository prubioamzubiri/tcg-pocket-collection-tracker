import{e as xe,ad as pe,ae as he,af as G,j as e,f as _e,ag as ge,U as b,u as _,ah as je,ai as H,a2 as be,a3 as de,a4 as ve,aj as $,o as q,r as j,ak as V,al as W,am as ce,an as Ne,ao as ye,ap as z,S as K,aq as oe,ar as Ce,as as Te,at as we,au as ke,a1 as Fe,av as le,aw as Ie,ax as Se,ay as $e,ac as J,az as Me,aA as Ae,aB as I,aC as Ee}from"./index-BPDlz0l9.js";import{t as M,b as me,d as ue,f as S,a as Le,D as ee,g as ae,M as A,C as P}from"./useWindowDimensionsHook-CaJrn1wL.js";import{C as E}from"./CardLine-CbMC9okT.js";import{C as te}from"./CardsTable-CyUabp4b.js";import{f as Oe}from"./utils-BQGxV6xE.js";import{A as L,a as Q,b as X}from"./alert-C0tjAg5T.js";import{S as Y}from"./siren-Bqm87Jo_.js";import{S as fe,u as Pe,a as De,F as Ue,b as D,c as U,d as R,e as B,f as Re,g as Be}from"./form-DJsyyZWZ.js";import"./index-CR9Y0uEj.js";import"./Card-lK7dImDC.js";import"./FancyCard-Bx0KYm3V.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ve=xe("copy",He);function se(a){return pe(he,a)}const We=({friendId:a,className:n="",showCopyButton:t=!0})=>{const{toast:i}=G(),s=async()=>{try{await navigator.clipboard.writeText(a),i({title:"Friend ID copied to clipboard!",variant:"default",duration:2e3})}catch(l){console.error("Failed to copy friend ID:",l),i({title:"Failed to copy friend ID",variant:"destructive",duration:3e3})}};return a?e.jsxs("span",{className:_e("inline-flex items-center gap-1",n),children:[e.jsx("span",{className:"font-mono",children:ge(a)}),t&&e.jsx(b,{variant:"ghost",size:"icon",onClick:s,className:"h-4 w-4 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200","aria-label":"Copy friend ID",children:e.jsx(Ve,{className:"h-2.5 w-2.5"})})]}):null},re=({cards:a,selected:n,setSelected:t})=>{const i=[...a].sort((l,d)=>{const o=p=>{const g=p.split("-"),h=g[0]||"",N=g.length>1?parseInt(g[1],10):0;return{setName:h,cardNumber:N}},c=o(l.card_id),u=o(d.card_id);return c.setName!==u.setName?c.setName.localeCompare(u.setName):c.cardNumber-u.cardNumber});function s(l){function d(){n?.card_id===l.card_id?t(null):t(l)}return e.jsx("li",{className:"rounded cursor-pointer",onClick:d,children:e.jsx(E,{className:`w-full ${n?.card_id===l.card_id&&"bg-green-900"} hover:bg-neutral-600`,card_id:l.card_id,rarity:"hidden"})},l.card_id)}return e.jsx("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-2 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1",children:i.map(s)})})};function ne(a){return a?e.jsx(E,{card_id:a.card_id,details:"hidden"}):"—"}const ze=({yourId:a,friendId:n,yourCard:t,friendCard:i,setYourCard:s,setFriendCard:l})=>{const{t:d}=_("trade-matches"),{toast:o}=G(),c=je(),u=t&&i&&t.rarity===i.rarity;async function p(){if(!u)return;const g={offering_friend_id:a,receiving_friend_id:n,offer_card_id:t.card_id,receiver_card_id:i.card_id,status:"offered"};try{c.mutate(g)}catch(h){console.log("TradeOffer: Error inserting trade",h),o({title:d("tradeFailed"),variant:"default"})}s(null),l(null),o({title:d("tradeOffered"),variant:"default"}),H("Offer trade")}return!t&&!i?e.jsx("div",{className:"flex rounded-lg border-1 border-neutral-700 border-solid p-2 w-full items-center justify-around text-center h-[206px] sm:h-[138px]",children:e.jsx("h4",{className:"text-lg font-medium",children:d("selectCardsToTrade")})}):e.jsxs("div",{className:"bg-neutral-900 rounded-lg border-1 border-neutral-700 border-solid p-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 p-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youGive")}),ne(t)]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-lg font-medium",children:d("youReceive")}),ne(i)]})]}),e.jsx(b,{className:"block w-full sm:w-1/2 mx-auto text-center",type:"button",variant:"outline",onClick:p,disabled:!u,children:d("offerTrades")})]})};function ie(a,n){const t=new Set(n),i=a.filter(s=>t.has(s)).map(s=>ce(s)).filter(s=>M.includes(s.rarity)&&Ne.includes(s.expansion));return Object.groupBy(i,s=>s.rarity)}function Ge(){const{t:a}=_(["trade-matches","common"]),{friendId:n}=be(),{data:t,isLoading:i,isError:s}=de(n),{data:l=new Map,isLoading:d,isError:o}=ve(n),{data:c}=$(),{data:u=new Map}=q(),[p,g]=j.useState(null),[h,N]=j.useState(null);if(!c)return null;if(t===null)return e.jsx("p",{className:"text-xl text-center py-8",children:a("notFound")});if(s||o)return e.jsx("p",{className:"text-xl text-center py-8",children:a("common:error")});if(i||d)return e.jsxs("p",{className:"text-xl text-center py-8",children:[a("common:loading"),"..."]});if(!t?.is_active_trading)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:a("inActiveTradePage",{username:t?.username})}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:a("inActiveTradeDescription")})]});const y=ie(W(u,c?.min_number_of_cards_to_keep),V(l,t.max_number_of_cards_wanted)),v=ie(W(l,t.min_number_of_cards_to_keep),V(u,c?.max_number_of_cards_wanted)),r=M.some(f=>(y[f]??[]).length>0&&(v[f]??[]).length>0);return e.jsxs("div",{className:"kap-4 justify-center w-full m-auto px-2",children:[e.jsxs("h1",{className:"mb-4",children:[e.jsx("span",{className:"text-2xl font-light",children:a("tradingWith")}),e.jsxs("span",{className:"text-2xl font-bold",children:[" ",t.username," "]}),e.jsx("span",{className:"block sm:inline text-sm",children:e.jsx(We,{friendId:t.friend_id})})]}),e.jsx(ze,{yourId:c.friend_id,friendId:t.friend_id,yourCard:p,friendCard:h,setYourCard:g,setFriendCard:N}),!r&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-xl ",children:a("noPossibleTrades")}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:a("noPossibleTradesDescription")})]}),e.jsx("div",{className:"mt-8",children:M.map(f=>v[f]&&y[f]&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2 text-center",children:["[ ",f," ]"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:a("youHave")}),e.jsx(re,{cards:y[f],selected:p,setSelected:g})]}),e.jsxs("div",{className:"w-full sm:w-1/2",children:[e.jsx("h4",{className:"text-md font-medium mb-1 ml-2",children:a("friendHas")}),e.jsx(re,{cards:v[f],selected:h,setSelected:N})]})]})]},f))})]})}function qe(){const{t:a}=_("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("noCardsNeeded.title")}),e.jsx(X,{children:a("noCardsNeeded.description")})]})})}function Ke(){const{t:a}=_("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("noTradeableCards.title")}),e.jsx(X,{children:a("noTradeableCards.description")})]})})}function Qe(){const{t:a}=_("pages/trade");return e.jsx("article",{className:"mx-auto grid max-w-4xl gap-5",children:e.jsxs(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx(Q,{children:a("notLoggedIn.title")}),e.jsx(X,{children:a("notLoggedIn.description")})]})})}function Xe(){const{t:a}=_(["pages/trade","filters"]),{data:n}=ye(),{data:t}=$(),{data:i=new Map}=q(),[s,l]=j.useState([]),[d,o]=j.useState((t?.max_number_of_cards_wanted??1)-1),[c,u]=j.useState((t?.min_number_of_cards_to_keep??1)+1),[p,g]=j.useState("looking_for"),h=x=>(s.length===0?M:s).includes(x.rarity),N=x=>{const C=ce(x),O=i.get(x)?.amount_owned??0;return{...C,amount_owned:O}},y=j.useMemo(()=>V(i,d+1).map(N),[i,d]),v=j.useMemo(()=>y.filter(h),[y,s]),r=j.useMemo(()=>W(i,c-1).map(N),[i,c]),f=j.useMemo(()=>r.filter(h),[r,s]),T=()=>{let x="";t?.is_public&&(x+=`${a("publicTradePage")} https://tcgpocketcollectiontracker.com/#/trade/${t?.friend_id}
`),t?.username&&(x+=`${a("friendID")} ${t.friend_id} (${t.username})

`),x+=`${a("lookingForCards")}
`;const C=v.sort((m,F)=>{const Z=m.expansion.localeCompare(F.expansion);return Z!==0?Z:m.rarity.localeCompare(F.rarity)});for(let m=0;m<C.length;m++)(m>0?C[m-1].expansion:"")!==C[m].expansion&&(x+=`
${C[m].set_details}:
`),x+=`${C[m].rarity} ${C[m].card_id} - ${C[m].name}
`;const O=v.map(m=>m.rarity);x+=`

${a("forTradeCards")}
`;const k=f.filter(m=>O.includes(m.rarity)).sort((m,F)=>m.rarity.localeCompare(F.rarity));for(let m=0;m<k.length;m++)(m>0?k[m-1].expansion:"")!==k[m].expansion&&(x+=`
${k[m].set_details}:
`),x+=`${k[m].rarity} ${k[m].card_id} - ${k[m].name}
`;return x},w=async()=>{const x=T();z({title:a("copiedInClipboard"),variant:"default",duration:3e3}),await navigator.clipboard.writeText(x)};return n?e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsxs(me,{defaultValue:p,onValueChange:g,children:[e.jsxs("div",{className:"mx-auto max-w-[900px] flex flex-row flex-wrap align-center gap-x-4 gap-y-2",children:[e.jsxs(ue,{className:"flex-grow m-auto flex-wrap h-auto border-1 border-neutral-700 rounded-md",children:[e.jsx(S,{value:"looking_for",children:a("lookingFor")}),e.jsx(S,{value:"for_trade",children:a("forTrade")})]}),e.jsx(Le,{options:M,value:s,onChange:l,show:Oe,asChild:!0}),e.jsxs("div",{className:"sm:mt-1 flex flex-row flex-wrap align-center gap-x-4 gap-y-1",children:[p==="looking_for"&&e.jsx(ee,{label:a("f-number.maxNum",{ns:"filters"}),options:[1,2,3,4,5],value:d,onChange:o}),p==="for_trade"&&e.jsx(ee,{label:a("f-number.minNum",{ns:"filters"}),options:[2,3,4,5],value:c,onChange:u}),e.jsx(b,{variant:"outline",onClick:w,children:"Copy to clipboard"})]})]}),e.jsxs("div",{className:"mx-auto max-w-[900px] mt-6",children:[e.jsx(ae,{value:"looking_for",children:y?e.jsx(te,{cards:v,extraOffset:105,editable:!1,groupExpansions:!0}):e.jsx(qe,{})}),e.jsx(ae,{value:"for_trade",children:r?e.jsx(te,{cards:f,extraOffset:105,editable:!1,groupExpansions:!0}):e.jsx(Ke,{})})]})]})}):e.jsx(Qe,{})}function Ye({partner:a}){const n=K(),{t}=_("trade-matches");return e.jsxs("div",{className:"max-w-md w-full flex justify-between items-center mx-auto px-4",children:[e.jsx("p",{className:"mr-2",children:a.username}),e.jsxs(b,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${a.friend_id}`),children:[t("viewTradePartner"),e.jsx(oe,{})]})]})}function Ze(){const{t:a}=_(["trade-matches","common"]),{data:n,isLoading:t,isError:i}=Ce();return t?e.jsx("p",{children:a("common:loading")}):i?e.jsx("p",{children:a("common:error")}):n?.length?e.jsx("div",{className:"flex flex-col gap-4",children:n.map(s=>e.jsx(Ye,{partner:s},s.friend_id))}):e.jsx("p",{children:a("noTradePartners")})}const Je=({row:a,selectedTradeId:n,setSelectedTradeId:t})=>{const{t:i}=_("trade-matches"),{data:s}=$();if(!s)return null;const l=a.offering_friend_id===s.friend_id?a.offer_card_id:a.receiver_card_id,d=a.offering_friend_id===s.friend_id?a.receiver_card_id:a.offer_card_id;function o(u){n===u.id?t(void 0):t(u.id)}const c=u=>{const p={offered:{icon:u.offering_friend_id===s.friend_id?"→":"←",color:"bg-amber-600"},accepted:{icon:"↔",color:"bg-lime-600"},declined:{icon:"X",color:"bg-stone-600"},finished:{icon:"✓",color:"bg-indigo-600"}};return e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{id:`tooltip-${u.id}`}),e.jsx("span",{className:`rounded-full text-center w-7 md:w-9 ${p[u.status].color}`,"data-tooltip-id":`tooltip-${u.id}`,"data-tooltip-content":i(`status.${u.status}`),children:p[u.status].icon})]})};return e.jsxs("li",{className:`flex cursor-pointer rounded gap-1 md:gap-4 p-1 ${n===a.id&&"bg-green-900"} hover:bg-neutral-500`,onClick:()=>o(a),children:[c(a),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full justify-between gap-1 md:gap-4",children:[e.jsx(E,{className:"sm:w-1/2",card_id:l,increment:-1}),e.jsx(E,{className:"sm:w-1/2",card_id:d,increment:1})]})]})};function ea({trades:a,viewHistory:n}){const{t}=_("trade-matches"),{toast:i}=G(),{data:s}=$(),{data:l=new Map}=q(),d=Te();function o(r){return r.offering_friend_id===s?.friend_id&&!r.offerer_ended||r.receiving_friend_id===s?.friend_id&&!r.receiver_ended}const c=n?a.filter(r=>!o(r)):a.filter(o),[u,p]=j.useState(void 0),g=we();if(!s)return null;const h=(r,f)=>{const T=ke(r),w=Fe(r)?.rarity;if(w===void 0)throw new Error(`Could not find card: ${r}`);return{card_id:r,internal_id:T,rarity:w,amount_owned:(l.get(T)?.amount_owned??0)+f}},N=async r=>{if(r.offer_card_id!==r.receiver_card_id)if(r.offering_friend_id===s.friend_id){const f=[h(r.offer_card_id,-1),h(r.receiver_card_id,1)];d.mutate({updates:f}),i({title:t("collectionUpdated"),variant:"default"})}else if(r.receiving_friend_id===s.friend_id){const f=[h(r.offer_card_id,1),h(r.receiver_card_id,-1)];d.mutate({updates:f}),i({title:t("collectionUpdated"),variant:"default"})}else console.log(r,"can't match friend id")},y=r=>{const f=async x=>{g.mutate({id:r.id,trade:{status:x}}),p(r.id),H(`Updated trade: ${x}`)},T=async()=>{const x=r.offering_friend_id===s.friend_id?{offerer_ended:!0}:r.receiving_friend_id===s.friend_id?{receiver_ended:!0}:null;if(x===null){console.log(r," doesn't match your friend_id");return}g.mutate({id:r.id,trade:x}),p(void 0),H("Updated trade: ended")},w=r.offering_friend_id===s.friend_id&&r.offerer_ended||r.receiving_friend_id===s.friend_id&&r.receiver_ended;switch(r.status){case"offered":return e.jsxs(e.Fragment,{children:[r.receiving_friend_id===s.friend_id&&e.jsx(b,{type:"button",onClick:async()=>f("accepted"),children:t("actionAccept")}),e.jsx(b,{type:"button",onClick:async()=>f("declined"),children:r.receiving_friend_id===s.friend_id?t("actionDecline"):t("actionCancel")})]});case"accepted":return e.jsxs(e.Fragment,{children:[e.jsx(b,{type:"button",onClick:async()=>f("finished"),children:t("actionComplete")}),e.jsx(b,{type:"button",onClick:async()=>f("declined"),children:t("actionCancel")})]});case"declined":return w?null:e.jsx(b,{type:"button",onClick:T,children:t("actionHide")});case"finished":return w?null:e.jsxs(e.Fragment,{children:[e.jsx(b,{type:"button",onClick:async()=>{await N(r),await T()},children:t("actionUpdate")}),e.jsx(b,{type:"button",onClick:T,children:t("actionHide")})]});default:return console.log(`Unknown trade status ${r.status}`),null}},v=c.find(r=>r.id===u);return c.length===0?null:e.jsxs("div",{className:"rounded-lg border-1 border-neutral-700 border-solid p-1 sm:p-2",children:[e.jsxs("div",{className:"hidden sm:flex px-1",children:[e.jsx("div",{className:"w-9"}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:t("youGive")}),e.jsx("h4",{className:"text-lg font-medium w-1/2 ml-8",children:t("youReceive")})]}),e.jsx("ul",{className:"flex flex-col gap-2 sm:gap-0",children:c.toSorted((r,f)=>r.created_at>f.created_at?-1:1).map(r=>e.jsx(Je,{row:r,selectedTradeId:u,setSelectedTradeId:p},r.id))}),v&&e.jsx("div",{className:"flex gap-4 text-center items-center mt-2",children:y(v)})]})}function aa({friendId:a}){const n=K(),{t}=_("trade-matches"),{data:i}=le(),{data:s}=de(a),[l,d]=j.useState(!1);if(!i)return null;const o=i.filter(c=>c.offering_friend_id===a||c.receiving_friend_id===a);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1 mx-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-md",children:t("tradingWith")}),e.jsxs("span",{className:"text-md font-bold",children:[" ",s?.username||"loading"," "]})]}),e.jsxs("span",{className:"flex gap-4",children:[e.jsxs("label",{htmlFor:`history-${a}`,className:"my-auto flex items-center",children:[t("viewHistory"),e.jsx(fe,{id:`history-${a}`,className:"ml-2 my-auto",checked:l,onCheckedChange:d})]}),e.jsxs(b,{variant:"outline",className:"my-auto",onClick:()=>n(`/trade/${a}`),children:[t("openTradeWith"),e.jsx(oe,{})]})]})]}),s!==null&&e.jsx(ea,{trades:o,viewHistory:l})]})}function ta(){const{t:a}=_("trade-matches"),{data:n}=$(),{data:t}=le();if(!t||!n)return null;if(t.length===0)return e.jsx("p",{children:a("noTradeOffers")});const i=ra(t,n.friend_id),s=Object.fromEntries(Object.entries(i).map(([o,c])=>[o,+(sa(c,n.friend_id).length===0)])),l=Object.fromEntries(Object.entries(i).map(([o,c])=>[o,Math.max(...c.map(u=>new Date(u.updated_at).getTime()))])),d=Object.keys(i).toSorted((o,c)=>s[o]!==s[c]?s[o]-s[c]:l[c]-l[o]);return e.jsx("div",{className:"flex flex-col items-center mx-auto gap-6 sm:px-4 mb-12 w-full",children:d.map(o=>e.jsx(aa,{friendId:o},o))})}function sa(a,n){return a.filter(t=>t.offering_friend_id===n?!t.offerer_ended:!t.receiver_ended)}function ra(a,n){return Object.groupBy(a,t=>t.offering_friend_id===n?t.receiving_friend_id:t.receiving_friend_id===n?t.offering_friend_id:(console.log("Fetched row does not match user friend_id",t),"undefined"))}function na(){const{t:a}=_("trade-matches"),{data:n}=$(),t=Ie(),i=Se({is_active_trading:$e(),min_number_of_cards_to_keep:se().min(1).max(10),max_number_of_cards_wanted:se().min(1).max(10)}),s=Pe({resolver:De(i),values:{is_active_trading:n?.is_active_trading||!1,min_number_of_cards_to_keep:n?.min_number_of_cards_to_keep||1,max_number_of_cards_wanted:n?.max_number_of_cards_wanted||1}}),l=async d=>{try{t.mutate({username:n?.username,is_active_trading:d.is_active_trading,min_number_of_cards_to_keep:d.min_number_of_cards_to_keep,max_number_of_cards_wanted:d.max_number_of_cards_wanted}),z({title:a("accountSaved"),variant:"default"})}catch(o){console.error("error saving account",o),z({title:a("errorSavingAccount"),variant:"destructive"})}};return!n||!n.username?e.jsx(L,{className:"mb-8 border-1 border-neutral-700 shadow-none",children:a("noAccount")}):e.jsxs("div",{children:[e.jsx(Ue,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(l),className:"border-1 border-neutral-700 space-y-2 p-4 mx-auto",children:[e.jsx(D,{control:s.control,name:"is_active_trading",render:({field:d})=>e.jsx(U,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(B,{className:"flex sm:w-72",children:a("isActiveTrading")}),e.jsx("div",{className:"grow-1",children:e.jsx(fe,{checked:d.value,onCheckedChange:d.onChange})}),e.jsx(Re,{className:"grow",children:d.value?"active":"disabled"}),e.jsx(A,{id:"activeInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"activeInput","data-tooltip-content":a("activeTradingInputTooltip")})]})})})}),e.jsx(D,{control:s.control,name:"min_number_of_cards_to_keep",render:({field:d})=>e.jsx(U,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(B,{className:"flex sm:w-72",children:a("minNumberOfCardsToKeep")}),e.jsx("div",{className:"grow-1",children:e.jsx(J,{className:"w-24",type:"number",...d})}),e.jsx(A,{id:"minInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"minInput","data-tooltip-content":a("minInputTooltip")})]})})})}),e.jsx(D,{control:s.control,name:"max_number_of_cards_wanted",render:({field:d})=>e.jsx(U,{className:"flex flex-col items-start",children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center gap-x-4 flex-wrap",children:[e.jsx(B,{className:"flex sm:w-72",children:a("maxNumberOfCardsWanted")}),e.jsx("div",{className:"grow-1",children:e.jsx(J,{className:"w-24",type:"number",...d})}),e.jsx(A,{id:"maxInput",style:{maxWidth:"300px",whiteSpace:"normal"},clickable:!0}),e.jsx(P,{className:"h-4 w-4","data-tooltip-id":"maxInput","data-tooltip-content":a("maxInputTooltip")})]})})})}),e.jsx("div",{className:"w-full flex justify-end mt-8",children:e.jsx(b,{type:"submit",children:a("save")})})]})}),e.jsx(Be,{className:"mt-4"})]})}function _a(){const{t:a}=_("trade-matches"),n=Me(),t=K(),i=n.pathname.split("/").pop()||"offers";return j.useEffect(()=>{n.pathname==="/trade"&&t("/trade/offers")},[n.pathname,t]),e.jsxs(me,{className:"flex flex-col mx-auto max-w-[900px]",value:i,onValueChange:s=>t(`/trade/${s}`),children:[e.jsxs(ue,{className:"gap-4 mb-6 rounded-lg border-b-1 border-neutral-700 border-solid dark:bg-transparent pb-2",children:[e.jsx(S,{className:"text-md",value:"cards",children:a("tabCards")}),e.jsx(S,{className:"text-md",value:"offers",children:a("tabOffers")}),e.jsx(S,{className:"text-md",value:"matches",children:a("tabMatches")}),e.jsx(S,{className:"text-md",value:"settings",children:a("tabSettings")})]}),e.jsxs(Ae,{children:[e.jsx(I,{path:"/",element:e.jsx(Ee,{to:"/trade/offers",replace:!0})}),e.jsx(I,{path:"cards",element:e.jsx(Xe,{})}),e.jsx(I,{path:"offers",element:e.jsx(ta,{})}),e.jsx(I,{path:"matches",element:e.jsx(Ze,{})}),e.jsx(I,{path:"settings",element:e.jsx(na,{})}),e.jsx(I,{path:":friendId",element:e.jsx(Ge,{})})]})]})}export{_a as default};
